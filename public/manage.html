<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TH-Research æŠ¥å‘Šç®¡ç†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            padding: 40px;
            margin-bottom: 30px;
        }

        .auth-section {
            margin-bottom: 30px;
        }

        .auth-section h2 {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #333;
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        input[type="password"],
        input[type="file"] {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input[type="password"]:focus,
        input[type="file"]:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        .button-group button {
            flex: 1;
        }

        .upload-section {
            display: none;
        }

        .upload-section.active {
            display: block;
        }

        .upload-section h2 {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #333;
        }

        .reports-section {
            display: none;
        }

        .reports-section.active {
            display: block;
        }

        .reports-section h2 {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #333;
        }

        .report-item {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .report-info {
            flex: 1;
        }

        .report-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            word-break: break-all;
        }

        .report-meta {
            font-size: 0.9em;
            color: #666;
        }

        .report-url {
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            color: #667eea;
            margin-top: 5px;
            word-break: break-all;
            padding: 8px;
            background: white;
            border-radius: 4px;
        }

        .report-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-left: 10px;
        }

        .report-status.active {
            background: #d4edda;
            color: #155724;
        }

        .report-status.disabled {
            background: #f8d7da;
            color: #721c24;
        }

        .report-actions {
            display: flex;
            gap: 10px;
            margin-left: 20px;
        }

        .report-actions button {
            padding: 8px 16px;
            font-size: 0.9em;
        }

        .btn-copy {
            background: #28a745;
        }

        .btn-copy:hover {
            box-shadow: 0 5px 20px rgba(40, 167, 69, 0.4);
        }

        .btn-disable {
            background: #ffc107;
        }

        .btn-disable:hover {
            box-shadow: 0 5px 20px rgba(255, 193, 7, 0.4);
        }

        .btn-replace {
            background: #17a2b8;
        }

        .btn-replace:hover {
            box-shadow: 0 5px 20px rgba(23, 162, 184, 0.4);
        }

        .btn-delete {
            background: #dc3545;
        }

        .btn-delete:hover {
            box-shadow: 0 5px 20px rgba(220, 53, 69, 0.4);
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.show {
            display: block;
        }

        .alert.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .loading {
            display: none;
            text-align: center;
            color: #667eea;
            font-weight: 600;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
            vertical-align: middle;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .logout-btn {
            background: #6c757d;
            margin-top: 20px;
            width: 100%;
        }

        .logout-btn:hover {
            box-shadow: 0 5px 20px rgba(108, 117, 125, 0.4);
        }

        /* æœç´¢å’Œè¿‡æ»¤æ æ ·å¼ */
        .filter-bar {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            display: none;
        }

        .filter-bar.active {
            display: block;
        }

        .filter-controls {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 12px;
            align-items: end;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .filter-group input,
        .filter-group select {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.95em;
            background: white;
            color: #333;
            transition: border-color 0.3s;
        }

        .filter-group input:focus,
        .filter-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .filter-button-group {
            display: flex;
            gap: 8px;
        }

        .filter-button-group button {
            padding: 10px 16px;
            font-size: 0.9em;
            flex: 1;
        }

        .btn-reset {
            background: #6c757d;
        }

        .btn-reset:hover {
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.3);
        }

        .filter-info {
            font-size: 0.85em;
            color: #999;
            margin-top: 12px;
        }

        .no-results {
            text-align: center;
            color: #999;
            padding: 40px 20px;
            border: 2px dashed #ddd;
            border-radius: 8px;
        }

        @media (max-width: 1024px) {
            .filter-controls {
                grid-template-columns: 1fr 1fr;
            }

            .filter-button-group {
                grid-column: 1 / -1;
            }
        }

        @media (max-width: 768px) {
            .filter-controls {
                grid-template-columns: 1fr;
            }

            .filter-button-group {
                grid-column: 1;
            }

            .report-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .report-actions {
                margin-left: 0;
                margin-top: 15px;
                width: 100%;
            }

            .report-actions button {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¬ TH-Research</h1>
            <p>AI ç”Ÿæˆçš„ HTML æŠ¥å‘Šå­˜æ”¾ä¸åˆ†äº«å¹³å°</p>
        </div>

        <div class="card">
            <div class="auth-section">
                <h2>ğŸ“ è®¤è¯</h2>
                <div class="input-group">
                    <input type="password" id="password" placeholder="è¾“å…¥ç®¡ç†å¯†ç ">
                    <button onclick="authenticate()">ç™»å…¥</button>
                </div>
                <div id="authAlert" class="alert"></div>
            </div>

            <div id="uploadSection" class="upload-section">
                <h2>ğŸ“¤ ä¸Šä¼ æŠ¥å‘Š</h2>
                <div class="input-group">
                    <input type="file" id="fileInput" accept=".html" placeholder="é€‰æ‹© HTML æ–‡ä»¶">
                    <button onclick="uploadFile()">ä¸Šä¼ </button>
                </div>
                <div id="uploadAlert" class="alert"></div>
                <div id="uploadLoading" class="loading">
                    <span class="spinner"></span>æ­£åœ¨ä¸Šä¼ ...
                </div>
            </div>

            <div id="reportsSection" class="reports-section">
                <h2>ğŸ“‹ æˆ‘çš„æŠ¥å‘Š</h2>
                <div id="reportsAlert" class="alert"></div>
                <div id="reportsLoading" class="loading">
                    <span class="spinner"></span>åŠ è½½ä¸­...
                </div>

                <!-- æœç´¢å’Œè¿‡æ»¤æ  -->
                <div id="filterBar" class="filter-bar">
                    <div class="filter-controls">
                        <!-- æœç´¢æ¡† -->
                        <div class="filter-group">
                            <label for="searchInput">ğŸ” æœç´¢æ–‡ä»¶å</label>
                            <input
                                type="text"
                                id="searchInput"
                                placeholder="è¾“å…¥è¦æœç´¢çš„æ–‡ä»¶å..."
                                onkeyup="applyFiltersAndSort()"
                            >
                        </div>

                        <!-- çŠ¶æ€è¿‡æ»¤ -->
                        <div class="filter-group">
                            <label for="statusFilter">çŠ¶æ€è¿‡æ»¤</label>
                            <select
                                id="statusFilter"
                                onchange="applyFiltersAndSort()"
                            >
                                <option value="">å…¨éƒ¨</option>
                                <option value="active">âœ“ æ´»è·ƒ</option>
                                <option value="disabled">âœ— å·²åœç”¨</option>
                            </select>
                        </div>

                        <!-- æ’åºæ–¹å¼ -->
                        <div class="filter-group">
                            <label for="sortBy">æ’åºæ–¹å¼</label>
                            <select
                                id="sortBy"
                                onchange="applyFiltersAndSort()"
                            >
                                <option value="desc">æœ€æ–°ä¼˜å…ˆ</option>
                                <option value="asc">æœ€æ—©ä¼˜å…ˆ</option>
                            </select>
                        </div>

                        <!-- æ“ä½œæŒ‰é’® -->
                        <div class="filter-button-group">
                            <button class="btn-reset" onclick="resetFilters()">é‡ç½®</button>
                        </div>
                    </div>

                    <!-- è¿‡æ»¤ä¿¡æ¯ -->
                    <div id="filterInfo" class="filter-info"></div>
                </div>

                <div id="reportsList"></div>
            </div>

            <button class="logout-btn" id="logoutBtn" style="display: none;" onclick="logout()">é€€å‡ºç™»å…¥</button>
        </div>
    </div>

    <!-- Hidden file input for replace -->
    <input type="file" id="replaceFileInput" accept=".html" style="display: none;">

    <script>
        let authToken = null;
        let currentPassword = null;
        // å­˜å‚¨åŸå§‹æŠ¥å‘Šåˆ—è¡¨ï¼Œç”¨äºè¿‡æ»¤å’Œæ’åº
        let allReports = [];

        function showAlert(elementId, message, type) {
            const alertEl = document.getElementById(elementId);
            alertEl.textContent = message;
            alertEl.className = `alert show ${type}`;
        }

        function clearAlert(elementId) {
            const alertEl = document.getElementById(elementId);
            alertEl.className = 'alert';
            alertEl.textContent = '';
        }

        async function authenticate() {
            const password = document.getElementById('password').value;

            if (!password) {
                showAlert('authAlert', 'âŒ è¯·è¾“å…¥å¯†ç ', 'error');
                return;
            }

            try {
                const response = await fetch('/api/health', {
                    headers: {
                        'x-upload-password': password
                    }
                });

                if (response.ok) {
                    authToken = password;
                    currentPassword = password;
                    document.getElementById('password').value = '';
                    showAlert('authAlert', 'âœ… è®¤è¯æˆåŠŸï¼', 'success');
                    
                    // Show authenticated sections
                    document.getElementById('uploadSection').classList.add('active');
                    document.getElementById('reportsSection').classList.add('active');
                    document.getElementById('logoutBtn').style.display = 'block';
                    document.querySelector('.auth-section').style.display = 'none';

                    // Load reports
                    loadReports();
                } else {
                    showAlert('authAlert', 'âŒ å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•', 'error');
                }
            } catch (error) {
                showAlert('authAlert', `âŒ é”™è¯¯: ${error.message}`, 'error');
            }
        }

        async function uploadFile() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];

            if (!file) {
                showAlert('uploadAlert', 'âŒ è¯·é€‰æ‹©ä¸€ä¸ª HTML æ–‡ä»¶', 'error');
                return;
            }

            if (!file.name.endsWith('.html')) {
                showAlert('uploadAlert', 'âŒ åªæ”¯æŒ HTML æ–‡ä»¶', 'error');
                return;
            }

            const formData = new FormData();
            formData.append('file', file);

            document.getElementById('uploadLoading').classList.add('show');
            clearAlert('uploadAlert');

            try {
                const response = await fetch('/api/upload', {
                    method: 'POST',
                    headers: {
                        'x-upload-password': authToken
                    },
                    body: formData
                });

                const data = await response.json();

                if (response.ok) {
                    showAlert('uploadAlert', `âœ… ä¸Šä¼ æˆåŠŸï¼`, 'success');
                    fileInput.value = '';
                    loadReports();
                } else {
                    showAlert('uploadAlert', `âŒ ä¸Šä¼ å¤±è´¥: ${data.error}`, 'error');
                }
            } catch (error) {
                showAlert('uploadAlert', `âŒ é”™è¯¯: ${error.message}`, 'error');
            } finally {
                document.getElementById('uploadLoading').classList.remove('show');
            }
        }

        async function loadReports() {
            document.getElementById('reportsLoading').classList.add('show');
            clearAlert('reportsAlert');

            try {
                const response = await fetch('/api/reports', {
                    headers: {
                        'x-upload-password': authToken
                    }
                });

                if (response.ok) {
                    const reports = await response.json();
                    // ä¿å­˜åŸå§‹æŠ¥å‘Šåˆ—è¡¨ï¼Œç”¨äºè¿‡æ»¤å’Œæ’åº
                    allReports = reports;
                    // æ˜¾ç¤ºè¿‡æ»¤æ 
                    document.getElementById('filterBar').classList.add('active');
                    // åº”ç”¨å½“å‰çš„æœç´¢å’Œè¿‡æ»¤
                    applyFiltersAndSort();
                } else {
                    showAlert('reportsAlert', 'âŒ æ— æ³•åŠ è½½æŠ¥å‘Šåˆ—è¡¨', 'error');
                }
            } catch (error) {
                showAlert('reportsAlert', `âŒ é”™è¯¯: ${error.message}`, 'error');
            } finally {
                document.getElementById('reportsLoading').classList.remove('show');
            }
        }

        /**
         * åº”ç”¨æœç´¢ã€è¿‡æ»¤å’Œæ’åº
         * - æœç´¢ï¼šæŒ‰æ–‡ä»¶åæ¨¡ç³ŠåŒ¹é…
         * - è¿‡æ»¤ï¼šæŒ‰çŠ¶æ€è¿‡æ»¤
         * - æ’åºï¼šæŒ‰åˆ›å»ºæ—¥æœŸå‡åºæˆ–é™åºæ’åˆ—
         */
        function applyFiltersAndSort() {
            // è·å–è¿‡æ»¤æ¡ä»¶
            const searchText = document.getElementById('searchInput').value.toLowerCase().trim();
            const statusFilter = document.getElementById('statusFilter').value;
            const sortBy = document.getElementById('sortBy').value;

            // ç¬¬ä¸€æ­¥ï¼šæœç´¢è¿‡æ»¤ - æŒ‰æ–‡ä»¶åæœç´¢
            let filtered = allReports.filter(report => {
                const filename = report.original_filename.toLowerCase();
                return filename.includes(searchText);
            });

            // ç¬¬äºŒæ­¥ï¼šçŠ¶æ€è¿‡æ»¤
            if (statusFilter) {
                filtered = filtered.filter(report => report.status === statusFilter);
            }

            // ç¬¬ä¸‰æ­¥ï¼šæ’åº - æŒ‰åˆ›å»ºæ—¥æœŸæ’åº
            filtered.sort((a, b) => {
                const dateA = new Date(a.created_at);
                const dateB = new Date(b.created_at);
                return sortBy === 'desc' ? dateB - dateA : dateA - dateB;
            });

            // æ¸²æŸ“è¿‡æ»¤åçš„æŠ¥å‘Š
            renderFilteredReports(filtered);

            // æ›´æ–°è¿‡æ»¤ä¿¡æ¯
            updateFilterInfo(filtered.length, searchText, statusFilter, sortBy);
        }

        /**
         * æ¸²æŸ“è¿‡æ»¤åçš„æŠ¥å‘Šåˆ—è¡¨
         */
        function renderFilteredReports(reports) {
            const reportsList = document.getElementById('reportsList');

            if (reports.length === 0) {
                if (allReports.length === 0) {
                    // æ²¡æœ‰ä»»ä½•æŠ¥å‘Š
                    reportsList.innerHTML = '<div class="no-results">ğŸ“­ è¿˜æ²¡æœ‰ä¸Šä¼ ä»»ä½•æŠ¥å‘Š</div>';
                } else {
                    // æœ‰æŠ¥å‘Šä½†è¿‡æ»¤åæ²¡æœ‰ç»“æœ
                    reportsList.innerHTML = '<div class="no-results">ğŸ” æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æŠ¥å‘Šï¼Œè¯·å°è¯•è°ƒæ•´æœç´¢æ¡ä»¶</div>';
                }
                return;
            }

            reportsList.innerHTML = reports.map(report => `
                <div class="report-item">
                    <div class="report-info">
                        <div class="report-name">
                            ${report.original_filename}
                            <span class="report-status ${report.status}">${report.status === 'active' ? 'âœ“ æ´»è·ƒ' : 'âœ— å·²åœç”¨'}</span>
                        </div>
                        <div class="report-meta">
                            ID: ${report.id}
                            <br>åˆ›å»ºæ—¶é—´: ${new Date(report.created_at).toLocaleString('zh-CN')}
                        </div>
                        <div class="report-url" onclick="copyToClipboard('${report.public_url}')">
                            å…¬å¼€ç½‘å€: ${report.public_url}
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn-copy" onclick="copyToClipboard('${report.public_url}')">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
                        ${report.status === 'active' ? `<button class="btn-disable" onclick="disableReport('${report.id}')">ğŸš« åœç”¨</button>` : ''}
                        <button class="btn-replace" onclick="replaceReport('${report.id}')">ğŸ”„ ç½®æ¢</button>
                        <button class="btn-delete" onclick="deleteReport('${report.id}')">ğŸ—‘ï¸ åˆ é™¤</button>
                    </div>
                </div>
            `).join('');
        }

        /**
         * æ›´æ–°è¿‡æ»¤ä¿¡æ¯æ˜¾ç¤º
         */
        function updateFilterInfo(resultCount, searchText, statusFilter, sortBy) {
            const filterInfo = document.getElementById('filterInfo');
            let info = `æ˜¾ç¤º ${resultCount} / ${allReports.length} ä¸ªæŠ¥å‘Š`;

            const filters = [];
            if (searchText) filters.push(`æœç´¢: "${searchText}"`);
            if (statusFilter) filters.push(`çŠ¶æ€: ${statusFilter === 'active' ? 'âœ“ æ´»è·ƒ' : 'âœ— å·²åœç”¨'}`);
            if (sortBy === 'asc') filters.push(`æ’åº: æœ€æ—©ä¼˜å…ˆ`);

            if (filters.length > 0) {
                info += ` | ${filters.join(' | ')}`;
            }

            filterInfo.textContent = info;
        }

        /**
         * é‡ç½®æ‰€æœ‰è¿‡æ»¤æ¡ä»¶å’Œæœç´¢
         */
        function resetFilters() {
            // æ¸…é™¤æ‰€æœ‰è¾“å…¥
            document.getElementById('searchInput').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('sortBy').value = 'desc';

            // é‡æ–°åº”ç”¨è¿‡æ»¤ï¼ˆå®é™…ä¸Šå°±æ˜¯æ˜¾ç¤ºæ‰€æœ‰æŠ¥å‘Šï¼‰
            applyFiltersAndSort();
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        async function disableReport(reportId) {
            if (!confirm('ç¡®å®šè¦åœç”¨æ­¤æŠ¥å‘Šå—ï¼Ÿå…¶ä»–äººå°†æ— æ³•è®¿é—®ã€‚')) return;

            try {
                const response = await fetch(`/api/reports/${reportId}/disable`, {
                    method: 'PATCH',
                    headers: {
                        'x-upload-password': authToken
                    }
                });

                if (response.ok) {
                    loadReports();
                } else {
                    alert('âŒ åœç”¨å¤±è´¥');
                }
            } catch (error) {
                alert(`âŒ é”™è¯¯: ${error.message}`);
            }
        }

        async function deleteReport(reportId) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤æ­¤æŠ¥å‘Šå—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚')) return;

            try {
                const response = await fetch(`/api/reports/${reportId}`, {
                    method: 'DELETE',
                    headers: {
                        'x-upload-password': authToken
                    }
                });

                if (response.ok) {
                    loadReports();
                } else {
                    alert('âŒ åˆ é™¤å¤±è´¥');
                }
            } catch (error) {
                alert(`âŒ é”™è¯¯: ${error.message}`);
            }
        }

        function replaceReport(reportId) {
            const fileInput = document.getElementById('replaceFileInput');
            fileInput.reportId = reportId;
            fileInput.click();
        }

        document.getElementById('replaceFileInput').addEventListener('change', async (e) => {
            const file = e.target.files[0];
            const reportId = e.target.reportId;

            if (!file) return;

            const formData = new FormData();
            formData.append('file', file);

            document.getElementById('uploadLoading').classList.add('show');

            try {
                const response = await fetch(`/api/reports/${reportId}/replace`, {
                    method: 'POST',
                    headers: {
                        'x-upload-password': authToken
                    },
                    body: formData
                });

                if (response.ok) {
                    showAlert('uploadAlert', 'âœ… ç½®æ¢æˆåŠŸï¼', 'success');
                    loadReports();
                } else {
                    showAlert('uploadAlert', 'âŒ ç½®æ¢å¤±è´¥', 'error');
                }
            } catch (error) {
                showAlert('uploadAlert', `âŒ é”™è¯¯: ${error.message}`, 'error');
            } finally {
                document.getElementById('uploadLoading').classList.remove('show');
                e.target.value = '';
            }
        });

        function logout() {
            authToken = null;
            currentPassword = null;
            // éšè—å„ä¸ªåŒºåŸŸ
            document.getElementById('uploadSection').classList.remove('active');
            document.getElementById('reportsSection').classList.remove('active');
            document.getElementById('filterBar').classList.remove('active');
            document.getElementById('logoutBtn').style.display = 'none';
            document.querySelector('.auth-section').style.display = 'block';
            // æ¸…ç©ºæŠ¥å‘Šåˆ—è¡¨å’Œè¿‡æ»¤æ¡ä»¶
            document.getElementById('reportsList').innerHTML = '';
            allReports = [];
            resetFilters();
            showAlert('authAlert', 'âœ… å·²é€€å‡ºç™»å…¥', 'info');
        }
    </script>
</body>
</html>
